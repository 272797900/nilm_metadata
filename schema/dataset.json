{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "https://raw.github.com/nilmtk/nilm_metadata/master/schema/dataset.json",
    "title": "Dataset",
    "description": "Metadata for a dataset",
    "type": "object",
    "properties": {
        "has_been_concatenated": { "type": "boolean" },
        "title": {
            "type": "string",
            "description": "Full name of the dataset, eg. 'Reference Energy Disaggregation Data Set'"
        },
        "short_title": { 
            "type": "string",
            "description": "Abbreviated name for the dataset, e.g. 'REDD'"
        },
        "identifier": {
            "type": "string",
            "description": "A digital object identifier (DOI) or URI for the dataset"
        },
        "subject": {
            "type": "string",
            "description": "For example, is this dataset about domestic or commercial buildings?  Does it include disaggregated appliance-by-appliance data or just whole-building data?"
        },
        "geospatial_coverage": {
            "type": "string",
            "description": "Spatial coverage.  e.g. 'Southern England'"
        },
        "temporal_coverage": { 
            "type": "object",
            "properties": {"$ref": "timeframe.json#/properties" },
            "description": "The temperal coverage of the entire dataset."
        },
        "creators": {
            "type": "array",
            "items": {
                "type": "string",
                "description": "<Lastname>, <Firstname>"
            }
        },
        "funding": {
            "type": "array",
            "items": { "type": "string" },
            "description": "A list of all the sources of funding used to produce this dataset."
        },
        "publisher": {
            "type": "string",
            "description": "The entity responsible for making the resource available. Examples of a Publisher include a person, an organization, or a service."
        },
        "data_formats_and_locations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": { 
                        "type": "string",
                        "description": "e.g. 'CSV (NILMTK schema)'"
                    },
                    "raw_data_location": { "type": "string" },
                    "cleaned_data_location": { "type": "string" }
                },
                "additionalProperties": false
            }
        },
        "publication_date": { "type": "string" },
        "rights_list": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "uri": { "type": "string" },
                    "name": { "type": "string" }
                }
            },
            "description": "License(s) under which this dataset is released."
        },
        "description_of_subjects": {
            "type": "string",
            "description": "A brief description of how subjects were recruited.  Are they all PhD students, for example?  Were they incentivised to reduce their energy consumption?"
        },
        "related_documents": {
            "type": "array",
            "description": "References about this dataset (e.g. references to academic papers or web pages).  Also briefly describe the contents of each reference (e.g. does it contain a description of the metering setup? Or an analysis of the data?",
            "items": {
                "type": "string"
            }
        },
        "contact": { "type": "string" },
        "institution": { "type": "string" },
        "description": { "type": "string" },
        "mains_voltage": { "$ref": "electric.json#/properties/mains_voltage" },
        "geo_location": { "$ref": "building.json#/properties/geo_location" },
        "timezone": { "$ref": "building.json#/properties/timezone" },
        "items": { 
            "enum": ["buildings", "appliances", "meters"],
            "description": "does the top level of this dataset contain appliances, meters or buildings (it can only contain one of these options).  For example, some datasets like TraceBase only record appliances (not buildings) whilst other datasets like REDD record whole buildings (which, in turn, contain meters and appliances)."
        },
        "number_of_items": { "$ref": "instance.json" },
        "buildings": { "type": "array", "items": { "$ref": "building.json" } },
        "appliances": { "type": "array", "items": { "type": "object" } },
        "meters": { "type": "array", "items": { "type": "object" } },
        "schema": { 
            "type": "string",
            "description": "The URL of the NILM_metadata version (tag) against which this metadata is validated. e.g. https://github.com/nilmtk/nilm_metadata/tree/v0.1.0"
        }
    },
    "additionalProperties": false
}
